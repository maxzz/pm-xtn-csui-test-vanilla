var W=Object.defineProperty;var j=(s,t,e)=>t in s?W(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var F=(s,t,e)=>(j(s,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();function z(s){return s===0?"0":s+"px"}function E(s){return s!==""?parseInt(s,10):0}class w{static css(t,e,i){var a;if(i===void 0){let o=typeof e=="string";if(o||Array.isArray(e)){let n=(a=document.defaultView)==null?void 0:a.getComputedStyle(t);if(!n)return 0;if(o)return n.getPropertyValue(e);{let r={};return e.forEach(l=>r[l]=n.getPropertyValue(l)),r}}else Object.keys(e).forEach(n=>t.style[n]=e[n])}else t.style[e]=i}static cssArr(t,e){var a;let i=(a=document.defaultView)==null?void 0:a.getComputedStyle(t);return i?e.map(o=>i.getPropertyValue(o)):[]}static show(t){return this.css(t,"display","")}static hide(t){return this.css(t,"display","none")}static nodeName(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}static insertAfter(t,e){e.parentNode.insertBefore(t,e.nextSibling)}static dir(t,e){let i=[];if(t)for(;(t=t[e])&&t.nodeType!==9;)t.nodeType===1&&i.push(t);return i}static offset(t,e){if(arguments.length>1)this.private_setOffset(t,e);else return this.private_getOffset(t)}static private_setOffset(t,e){let i=this.css(t,"position");i==="static"&&(t.style.position="relative");let a,o,n=this.css(t,["top","left"]);if((i==="absolute"||i==="fixed")&&(n.top+n.left).indexOf("auto")>-1){let c=this.position(t);o=c.top,a=c.left}else o=parseFloat(n.top)||0,a=parseFloat(n.left)||0;let l={},d=this.offset(t);e.top!=null&&(l.top=z(e.top-d.top+o)),e.left!=null&&(l.left=z(e.left-d.left+a)),this.css(t,l)}static private_getOffset(t){let e=t&&t.ownerDocument;if(!e)return;let i=e.defaultView,a=e.documentElement,o=t.getBoundingClientRect();return{top:o.top+i.pageYOffset-a.clientTop,left:o.left+i.pageXOffset-a.clientLeft}}static offsetParent(t){let e=t.offsetParent||t.ownerDocument.documentElement;for(;e&&!this.nodeName(e,"html")&&this.css(e,"position")==="static";)e=e.offsetParent;return e||t.ownerDocument.documentElement}static position(t){let e,i={top:0,left:0};if(this.css(t,"position")==="fixed")e=t.getBoundingClientRect();else{let a=this.offsetParent(t);e=this.offset(t),this.nodeName(a,"html")||(i=this.offset(a)),i.top+=E(this.css(a,"border-top-width")),i.left+=E(this.css(a,"border-left-width"))}return{top:e.top-i.top-E(this.css(t,"margin-top")),left:e.left-i.left-E(this.css(t,"margin-left"))}}static wORh(t,e){if(G(t))return t.document.documentElement["client"+e];if(Y(t)){let i=t.documentElement;return Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])}}static width(t,e,i,a){let o=this.wORh(t,"Width");if(o!==void 0)return o;const n=document.defaultView.getComputedStyle(t),r=d=>E(n.getPropertyValue(d));let l=t.clientWidth;return e&&(l+=r("margin-left"),l+=r("margin-right")),i&&(l+=r("border-left"),l+=r("border-right")),a||(l-=r("padding-left"),l-=r("padding-right")),l}static height(t,e,i,a){let o=this.wORh(t,"Height");if(o!==void 0)return o;const n=document.defaultView.getComputedStyle(t),r=d=>E(n.getPropertyValue(d));let l=t.clientHeight;return e&&(l+=r("margin-top"),l+=r("margin-bottom")),i&&(l+=r("border-top"),l+=r("border-bottom")),a||(l-=r("padding-top"),l-=r("padding-bottom")),l}static isContentBox(t){let e=this.css(t,"box-sizing");return!e.length||e==="content-box"}}class J{constructor(t,e){this.elem=null,e=e||document,typeof t=="string"?this.elem=e.querySelector(t):this.elem=t}appendChild(t){typeof t=="string"&&(t=document.createTextNode(t)),this.elem.appendChild(t)}offset(t){if(t)w.private_setOffset(this.elem,t);else return w.private_getOffset(this.elem)}width(){return w.width(this.elem,!1,!1,!1)}height(){return w.height(this.elem,!1,!1,!1)}outerWidth(){return w.width(this.elem,!1,!0,!0)}outerHeight(){return w.height(this.elem,!1,!0,!0)}css(t,e){return w.css(this.elem,t,e)}cssArr(t){return w.cssArr(this.elem,t)}parents(){return w.dir(this.elem,"parentNode")}}var D=(s,t)=>new J(s,t);function G(s){return s&&s===s.window}function Y(s){return s&&s.nodeType===9}function N(s){var t;return s===document?!0:s?N(((t=s.parentNode)==null?void 0:t.host)||s.parentNode):!1}function K(s,t){return s.replace(/{([\w\$_-]+)}/gm,(e,i)=>t[i]||e)}function Q(s){return/^{~}/.test(s)?s.slice(3).replace(/'/g,'"'):s}function X(s,t,e){e=e||window;let i=!1;function a(){i||(i=!0,requestAnimationFrame(function(){e.dispatchEvent(new CustomEvent(t)),i=!1}))}e.addEventListener(s,a)}var T;(function(s){const t=new RegExp(/(.*?)\.?([^\.]*?)\.(gl|com|net|org|biz|ws|in|me|co\.uk|co|org\.uk|ltd\.uk|plc\.uk|me\.uk|edu|mil|br\.com|cn\.com|eu\.com|hu\.com|no\.com|qc\.com|sa\.com|se\.com|se\.net|us\.com|uy\.com|ac|co\.ac|gv\.ac|or\.ac|ac\.ac|af|am|as|at|ac\.at|co\.at|gv\.at|or\.at|asn\.au|com\.au|edu\.au|org\.au|net\.au|id\.au|be|ac\.be|adm\.br|adv\.br|am\.br|arq\.br|art\.br|bio\.br|cng\.br|cnt\.br|com\.br|ecn\.br|eng\.br|esp\.br|etc\.br|eti\.br|fm\.br|fot\.br|fst\.br|g12\.br|gov\.br|ind\.br|inf\.br|jor\.br|lel\.br|med\.br|mil\.br|net\.br|nom\.br|ntr\.br|odo\.br|org\.br|ppg\.br|pro\.br|psc\.br|psi\.br|rec\.br|slg\.br|tmp\.br|tur\.br|tv\.br|vet\.br|zlg\.br|br|ab\.ca|bc\.ca|mb\.ca|nb\.ca|nf\.ca|ns\.ca|nt\.ca|on\.ca|pe\.ca|qc\.ca|sk\.ca|yk\.ca|ca|cc|ac\.cn|com\.cn|edu\.cn|gov\.cn|org\.cn|bj\.cn|sh\.cn|tj\.cn|cq\.cn|he\.cn|nm\.cn|ln\.cn|jl\.cn|hl\.cn|js\.cn|zj\.cn|ah\.cn|gd\.cn|gx\.cn|hi\.cn|sc\.cn|gz\.cn|yn\.cn|xz\.cn|sn\.cn|gs\.cn|qh\.cn|nx\.cn|xj\.cn|tw\.cn|hk\.cn|mo\.cn|cn|cx|cz|de|dk|fo|com\.ec|tm\.fr|com\.fr|asso\.fr|presse\.fr|fr|gf|gs|co\.il|net\.il|ac\.il|k12\.il|gov\.il|muni\.il|ac\.in|co\.in|org\.in|ernet\.in|gov\.in|net\.in|res\.in|is|it|ac\.jp|co\.jp|go\.jp|or\.jp|ne\.jp|ac\.kr|co\.kr|go\.kr|ne\.kr|nm\.kr|or\.kr|li|lt|lu|asso\.mc|tm\.mc|com\.mm|org\.mm|net\.mm|edu\.mm|gov\.mm|ms|nl|no|nu|pl|ro|org\.ro|store\.ro|tm\.ro|firm\.ro|www\.ro|arts\.ro|rec\.ro|info\.ro|nom\.ro|nt\.ro|se|si|com\.sg|org\.sg|net\.sg|gov\.sg|sk|st|tf|ac\.th|co\.th|go\.th|mi\.th|net\.th|or\.th|tm|to|com\.tr|edu\.tr|gov\.tr|k12\.tr|net\.tr|org\.tr|com\.tw|org\.tw|net\.tw|ac\.uk|uk\.com|uk\.net|gb\.com|gb\.net|vg|sh|kz|ch|info|ua|gov|name|pro|ie|hk|com\.hk|org\.hk|net\.hk|edu\.hk|us|tk|cd|by|ad|lv|eu\.lv|bz|es|jp|cl|ag|mobi|eu|co\.nz|org\.nz|net\.nz|maori\.nz|iwi\.nz|io|la|md|sc|sg|vc|tw|travel|my|se|tv|pt|com\.pt|edu\.pt|asia|fi|com\.ve|net\.ve|fi|org\.ve|web\.ve|info\.ve|co\.ve|tel|im|gr|ru|net\.ru|org\.ru|hr|com\.hr|ly|xyz)$/);function e(i,a){var o={},n;if(!i){//!url - includes undefined and 0 length //url = url || ''; // tm: url = url || window.location.toString();
return""}return(n=i.match(/^mailto:([^\/].+)/))?(o.protocol="mailto",o.email=n[1]):((n=i.match(/(.*?)\/#\!(.*)/))&&(i=n[1]+n[2]),(n=i.match(/(.*?)#(.*)/))&&(o.hash=n[2],i=n[1]),(n=i.match(/(.*?)\?(.*)/))&&(o.query=n[2],i=n[1]),(n=i.match(/(.*?)\:?\/\/(.*)/))&&(o.protocol=n[1].toLowerCase(),i=n[2]),(n=i.match(/(.*?)(\/.*)/))&&(o.path=n[2],i=n[1]),o.path=(o.path||"").replace(/^([^\/])/,"/$1"),(n=i.match(/(.*)\:([0-9]+)$/))&&(o.port=n[2],i=n[1]),(n=i.match(/(.*?)@(.*)/))&&(o.auth=n[1],i=n[2]),o.auth&&(n=o.auth.match(/(.*)\:(.*)/),o.user=n?n[1]:o.auth,o.pass=n?n[2]:void 0),o.hostname=i.toLowerCase(),(n=o.hostname.match(t))&&(o.tld=n[3],o.domain=n[2]?n[2]+"."+n[3]:void 0,o.sub=n[1]||void 0),o.domainhost=o.domain||o.hostname),a?o[a]:o}s.url=e})(T||(T={}));var B;(function(s){const t=/[\t\r\n\u00A0]+/g,e=/^\s+|\s+$/g,i=/(?:[\:\?\*\s]){1,7}$/g,a=/^(?:Enter )/;function o(n){return n&&n.replace(t," ").replace(e,"").replace(i,"").replace(a,"")}s.run=o})(B||(B={}));function b(s,t,e){t=t||document;function i(r){return typeof r=="string"?t.createTextNode(r):r}const a="http://www.w3.org/2000/svg";let o=null;function n(r,l){if(Array.isArray(r)){let d=t.createDocumentFragment();return Array.prototype.forEach.call(arguments,c=>{d.appendChild(typeof c=="string"?t.createTextNode(c):i(n.apply(null,c)))}),d}else{if(r==="")return l;let d=r==="svg";d&&(o=a);let c=o?t.createElementNS(o,r):t.createElement(r),u=1;return l&&typeof l=="object"&&!Array.isArray(l)&&(u++,Object.keys(l).forEach(f=>{let x=l[f];e&&f==="key"?e[x]=c:typeof x=="function"?c.addEventListener(f.replace(/^on/,""),x,!1):c.setAttribute(f,x)})),Array.prototype.slice.call(arguments,u).forEach(f=>{f!=null&&c.appendChild(f instanceof t.defaultView.Node?f:Array.isArray(f)?i(n.apply(null,f)):t.createTextNode(f))}),d&&(o=null),c}}return n.apply(null,s)}var A;(function(s){function t(n){n&&n.classList.remove("hide")}function e(n){n&&n.classList.add("hide")}s.show=t,s.hide=e;function i(n,r,l){l&&n.addEventListener("animationend",l,{once:!0}),n.classList.add(r)}function a(n,r){i(n,r,()=>n.classList.remove(r))}class o{owner(r){if(!r){this.defs=null;return}let l=r.querySelector("svg"),d=l.querySelector.bind(l);this.defs={amover:r,root:l,bkg:d("#bkg"),logo:d("#logo"),logoEgg:d("#logo>#egg"),badge:d("#badge"),badgeBBkg:d("#badge>#bbkg"),badgeChg:d("#badge>#chg"),badgeAdd:d("#badge>#add"),feedback:d("#feedback"),feedbackOk:d("#feedback>#iOk"),feedbackNo:d("#feedback>#iNo")}}setTra(){if(!this.defs)return;let r=this.defs;e(r.badge),e(r.badgeAdd),e(r.badgeChg),t(r.logo),e(r.logoEgg),e(r.feedbackOk),e(r.feedbackNo)}setAdd(){if(!this.defs)return;let r=this.defs;t(r.badge),t(r.badgeAdd),e(r.badgeChg),t(r.logo),e(r.logoEgg),e(r.feedbackOk),e(r.feedbackNo)}setChg(){if(!this.defs)return;let r=this.defs;e(r.badgeAdd),t(r.badge),t(r.badgeChg),i(r.badgeChg,"chg-show"),t(r.logo),e(r.logoEgg),e(r.feedbackOk),e(r.feedbackNo)}fadeFOk(){if(!this.defs)return;let r=this.defs;a(r.logo,"logo-hide"),t(r.feedbackOk),a(r.feedbackOk,"mark-show")}fadeFNo(){if(!this.defs)return;let r=this.defs;a(r.logo,"logo-hide"),t(r.feedbackNo),a(r.feedbackNo,"mark-show")}state(r){switch(r){case"t":return this.setTra();case"n":return this.setAdd();case"c":return this.setChg();case"ok":return this.fadeFOk();case"no":return this.fadeFNo()}}}s.State=o})(A||(A={}));class R{constructor(t,e){this.fitted=!1,this.piggy=e||document.createElement("dp-ico"),this.piggy.attachShadow({mode:"open"}),this.img=new A.State,this.loadDomi(t.dom,t.css),this.applyAttrs()}loadDomi(t,e){this.piggy.shadowRoot.appendChild(b(["style",e])),this.svg=b(JSON.parse(t)),this.mover=b(["tm-div",{id:"mover"}]),this.mover.appendChild(this.svg),this.piggy.shadowRoot.appendChild(this.mover),this.img.owner(this.mover)}applyAttrs(){let t=this.piggy.dataset;t.state&&this.img.state(t.state),t.fit&&(this.fit=!!t.fit),t.dim&&(this.dim={w:+t.dim,h:+t.dim})}get dim(){let t=this.mover.getBoundingClientRect();return{w:t.width,h:t.height}}set dim({w:t,h:e}){this.mover.style.width=`${t}px`,this.mover.style.height=`${e}px`,this.fitted&&this.setDimHost({w:t,h:e})}set fit(t){this.fitted=t,t&&this.setDimHost(this.dim)}setDimHost({w:t,h:e}){this.piggy.style.width=`${t}px`,this.piggy.style.height=`${e}px`}set state(t){/^(s|h)/.test(t)?this.piggy.style.display=t==="s"?"":"none":this.img.state(t)}}class tt{constructor(t,e){this.events={add:()=>{const n="addEventListener";this.btns.forEach(r=>r[n]("click",this.events.clk)),this.piggy[n]("keydown",this.events.key),this.piggy.shadowRoot[n]("mousedown",this.events.ripple)},rem:()=>{const n="removeEventListener";this.btns.forEach(r=>r[n]("click",this.events.clk)),this.piggy[n]("keydown",this.events.key),this.piggy.shadowRoot[n]("mousedown",this.events.ripple)},clk:n=>this.sendCmd(n.target.dataset.id),key:n=>this.keydown(n),ripple:n=>this.ripple(n)},this.timers={},this.piggy=document.createElement("dp-fbb"),this.piggy.attachShadow({mode:"open"});let i=this.piggy.shadowRoot;e.res.css&&i.appendChild(b(["style",e.res.css])),e.res.dom&&i.appendChild(b(JSON.parse(e.res.dom))),this.grbId=e.grbId;let a=i.querySelector.bind(i);new R(t,a("dp-ico")),this.rroot=a(".main"),this.btns=[...i.querySelectorAll("#close, #save, #never")],(()=>{let n=10185237,r=a("#username");const l=[r.previousElementSibling,r,r.nextElementSibling];let d=l[0].innerText,c=document.createDocumentFragment();function u(g){var x;let f=l.map(v=>v.cloneNode(!0)).map(v=>(v.id=`${n++}`,v));return f[0].innerText=g.disp||d,f[1].value=g.value,f[2].innerHTML="",(x=g.values)==null||x.forEach(v=>f[2].appendChild(b(["option",{value:v}]))),f.forEach(v=>c.appendChild(v)),f}this.inputs=e.lines.map(u),r.parentElement.insertBefore(c,r.nextElementSibling.nextElementSibling),l.forEach(g=>g.remove())})(),this.events.add()}ripple(t){this.stop();let e=t.target,i=D(e).offset();this.rroot.style.setProperty("--ripple-x",`${(t.clientX-i.left)/e.offsetWidth}`),this.rroot.style.setProperty("--ripple-y",`${(t.clientY-i.top)/e.offsetHeight}`)}keydown(t){if(t.altKey||t.shiftKey)return;let e;switch(t.key){case"Space":case"Enter":{let i=this.piggy.shadowRoot.activeElement;i&&["save","never","close"].includes(i.id)&&(e=i.id);break}case"Escape":e="close";break}e&&(t.preventDefault(),this.sendCmd(e))}sendCmd(t){this.send({ev:"e"}),this.send({ev:"c",out:{cmd:t,values:t==="s"?this.inputs.map(e=>({disp:e[0].innerText.trim(),value:e[1].value.trim()})):[],grbId:this.grbId}})}send(t){window.dispatchEvent(new CustomEvent("fbb-event",{detail:t}))}stop(){let t=this.timers;Object.keys(t).forEach(e=>{t[e]&&(clearTimeout(t[e]),t[e]=null)})}indoc(t=800,e=3e3,i){this.stop();let a=this.timers;a.show=setTimeout(()=>{a.show=null,this.send({ev:"s"}),a.enou=setTimeout(()=>{a.enou=null,this.send({ev:"e"}),a.kill=i&&setTimeout(()=>{a.kill=null,this.destroy()},i)},e)},t)}destroy(){this.send({ev:"d"}),this.stop(),this.events.rem(),this.piggy.parentElement.removeChild(this.piggy)}reveal(t){this.rroot.classList[t?"remove":"add"]("hide-main")}}let H=!0;function et(s,t){let e=D(s);e.cssArr(["padding-right"]).map(d=>parseInt(d));let i=e.outerWidth(),a=e.outerHeight();a<12&&a!==0&&(a=12);let o=a*1.4;i/o<3&&(o=i/3);let r=i*.05+o;t.style.width=o+"px",t.style.height=o+"px";let l=e.offset();l.left=l.left+i-r,l.top=l.top+a/2-t.clientHeight/2,t.style.zIndex="2147483645",D(t).offset(l)}class it{constructor(){this.piggy=null,this.events={click:t=>{H=!0,this.mouseIn(t)},mouseenter:t=>this.mouseIn(t),mouseleave:t=>this.mouseOut(t),focus:()=>{this.updateIconPos()},blur:()=>this.updateIconPos(),size:()=>this.updateIconPos()},this.focused=null}init(t,e,i,a){this.domcssIco=t,this.input=e,this.m_fieldDID=i,this.dpfbm=a,this.m_menuUID="",this.removeIconDOM(),this.createMover(this.input),this.on(!0),this.updateIconPos(),this.dpico.state="t"}on(t){let e=this.input,i=this.mover,a=this.events;const o="addEventListener",n="removeEventListener";t?(i&&i[o]("click",a.click,!1),i&&i[o]("mouseenter",a.mouseenter,!1),i&&i[o]("mouseleave",a.mouseleave,!1),e&&e[o]("focus",a.focus,!1),e&&e[o]("blur",a.blur,!1),window[o]("tmOptimizedResize",a.size)):(i&&i[n]("click",a.click,!1),i&&i[n]("mouseenter",a.mouseenter,!1),i&&i[n]("mouseleave",a.mouseleave,!1),e&&e[n]("focus",a.focus,!1),e&&e[n]("blur",a.blur,!1),window[n]("tmOptimizedResize",a.size))}createMover(t){this.piggy=document.createElement("dp-fbi"),this.piggy.maxz=this,this.piggy.attachShadow({mode:"open"}),this.dpico=new R(this.domcssIco),this.piggy.shadowRoot.appendChild(this.dpico.piggy),t.parentElement.insertBefore(this.piggy,t.nextElementSibling),this.moverParent=this.piggy,this.mover=this.dpico.mover,this.lockMenu=!1}initIconType(t,e){this.iconType=t,this.m_menuUID=e,this.dpfbm.verifyMenu(this.m_menuUID);let i=this.mover&&this.moverParent,a;t===3?a="t":t===1?a="n":t===16&&(a="c"),a?(this.dpico.state=a,A.show(i),this.updateIconPos()):A.hide(i)}updateIconPos(){this.mover&&et(this.input,this.mover)}menuOpened(){let t=document.activeElement;t=t&&t.shadowRoot&&t.shadowRoot.activeElement||t,t&&(this.focused=t,this.focused.blur())}menuClosed(){this.focused&&(this.focused.focus(),this.focused=null)}mouseOut(t){this.dpfbm.closeMenu()}mouseIn(t){if(this.dpfbm.resetCloseTimer(),!H||this.lockMenu)return;this.menuOpened();let e=0;this.dpfbm.currentFBI?this.dpfbm.currentFBI!==this&&(e++,this.dpfbm.closeMenuNow(),this.dpfbm.verifyMenu(this.m_menuUID),this.updateIconPos()):(e++,this.dpfbm.verifyMenu(this.m_menuUID),this.updateIconPos()),this.dpfbm.currentFBI=this,e&&this.dpfbm.alignMenu(this.mover)}showAuth(t){this.dpico.state=t?"ok":"no"}commandStarted(){this.lockMenu=!0,setTimeout(()=>this.lockMenu=!1,500)}inDocument(){return N(this.piggy)}reconnect(){this.removeIconDOM(),this.createMover(this.input),this.on(!0),this.initIconType(this.iconType,this.m_menuUID)}removeIconDOM(){this.on(!1);let t=this.input&&this.input.parentElement;t&&[...t.querySelectorAll("dp-fbi")].forEach(e=>{let i=e.maxz;i?i.input===this.input&&(console.log("%cRemoved leftover FBI keeper %o","color: red",i),i.destroy()):(console.log("%cRemoved leftover FBI JUST ICON %o","color: red",i),e.parentElement&&e.parentElement.removeChild(e))}),this.moverParent=null,this.mover=null}destroy(){this.on(!1),this.piggy.maxz=null,this.piggy.parentElement&&this.piggy.parentElement.removeChild(this.piggy)}}(function(){X("resize","tmOptimizedResize")})();const $={menuDomis:{},fbiDomi:""};class st{constructor(t){this.onCommand=null,this.menuDefs={},this.piggy=null,this.closeTimer=null,this.piggy=document.createElement("dp-fbm"),this.piggy.attachShadow({mode:"open"}),this.piggy.shadowRoot.appendChild(b(["style",t.css]))}verifyMenu(t){t!=="hide"&&(this.menuDefs[t]===void 0&&(this.menuDefs[t]=this.createMenu(t)),Object.keys(this.menuDefs).forEach(e=>{this.menuDefs[e].classList.toggle("hide",e!==t)}))}setPoint(t,e,i,a){let o=e.offset();e.height(),o.top-=e.elem.ownerDocument.defaultView.pageYOffset,o.left-=e.elem.ownerDocument.defaultView.pageXOffset,o.top=o.top+i.h*.75;let n=document.defaultView,r=n.innerWidth,l=n.innerHeight;o.left+a.w+24>=r&&(o.left=r-a.w-24),o.top+a.h+24>=l&&(o.top=l-a.h-24,o.left=o.left-i.w*.5),w.css(t,{top:z(o.top),left:z(o.left)})}alignMenu(t){let e=D(t),i=this.m_menusroot,a=D(".menus-rel > ul:not([class*=hide])",i),o={w:e.width(),h:e.height()},n={w:a.outerWidth(),h:a.outerHeight()};this.setPoint(i,e,o,n),i.classList.remove("hide"),i.classList.add("menu-in"),i.classList.remove("menu-out"),i.style.pointerEvents=n.h<10?"none":"",setTimeout(()=>{n.h<10&&(n={w:a.outerWidth(),h:a.outerHeight()}),this.setPoint(i,e,o,n)},100),n.h<10&&setTimeout(()=>i.style.pointerEvents="",267)}createMenu(t){this.m_menusroot||(this.m_menusroot=b(["div",{class:"menus hide"},["div",{class:"menus-rel"}]]),this.m_menusroot.addEventListener("mouseenter",o=>{this.resetCloseTimer()},!1),this.m_menusroot.addEventListener("mouseleave",o=>{this.closeMenu()},!1),this.piggy.shadowRoot.appendChild(this.m_menusroot));let e=this.m_menusroot.querySelector(".menus-rel"),i=b(JSON.parse($.menuDomis[t]));e.appendChild(i);const a=o=>{if(!this.currentFBI)return;let n=this.currentFBI;this.closeMenuNow();let r=o.currentTarget.dataset.cmd,l=n.m_fieldDID;n.commandStarted(),this.onCommand&&this.onCommand(r,l)};return[...i.querySelectorAll(".menu-row")].forEach(o=>o.addEventListener("click",a,!1)),i}closeMenuNow(){this.m_menusroot.classList.remove("menu-in"),this.m_menusroot.classList.add("menu-out"),this.m_menusroot.style.pointerEvents="none",this.currentFBI&&(this.currentFBI.menuClosed(),this.currentFBI=null)}closeMenu(){this.closeTimer=window.setTimeout(()=>{this.closeMenuNow()},100)}resetCloseTimer(){this.closeTimer&&(window.clearTimeout(this.closeTimer),this.closeTimer=null)}appendMeToDoc(){document.body.appendChild(this.piggy)}}class ot{constructor(t,e){this.container=null,this.items=[],this.w1=0,this.h1=0,this.piggy=null,this.timeout=null,this.piggy=e||document.createElement("dp-lit"),this.piggy.attachShadow({mode:"open"}),this.loadDomi(t.dom,t.css)}setPos(t,e){let i=this.items[t].style;[i.left,i.top,i.width,i.height]=e.map(a=>`${a}px`),i.opacity="1",i.transition="opacity 2s"}loadDomi(t,e){let i=b(["style",e]);this.piggy.shadowRoot.appendChild(i),this.container=b(JSON.parse(t)),this.piggy.shadowRoot.appendChild(this.container),this.items=[...this.container.querySelectorAll("*")];let a=[5,9,8,6];this.h1=a[0],this.w1=a[3];let o=a[1],n=a[2];[[this.h1,o,0,this.w1],[0,0,0,this.w1],[0,o,0,0],[0,o,n,this.w1]].forEach(([l,d,c,u],g)=>this.items[g].style.borderWidth=`${l}px ${d}px ${c}px ${u}px`),this.hide()}_highlight(t){if(t&&t.nodeType!==1&&(t=t.parentElement),!t){this.hide();return}let e=t.getBoundingClientRect(),i={left:Math.round(e.left),top:Math.round(e.top),width:Math.round(e.right-e.left),height:Math.round(e.bottom-e.top)};[[i.left-this.w1,i.top-this.h1,i.width,0],[i.left-this.w1,i.top,0,i.height],[i.left+i.width,i.top,0,i.height],[i.left-this.w1,i.top+i.height,i.width,0]].forEach((o,n)=>this.setPos(n,o))}highlight(t,e){this._highlight(t),this.timeout&&(clearTimeout(this.timeout),this.timeout=null),e&&(this.timeout=setTimeout(()=>this.hide(),3e3))}hide(){this.items.forEach(t=>t.style.opacity="0")}appendMeToDoc(){document.body.appendChild(this.piggy)}}const y={domCss4:{}},m={ico:[],fbi:[],fbm:null,lit:null};function nt(){return m.fbm||(m.fbm=new st(y.domCss4.fbm),m.fbm.onCommand=(s,t)=>{console.log(`FBI did ${t} command ${s}`)},m.fbm.appendMeToDoc()),m.fbm}var V=(s=>(s[s.unini=-2]="unini",s[s.hideicon=-1]="hideicon",s[s.nlogin=1]="nlogin",s[s.tlogin=3]="tlogin",s[s.change=16]="change",s))(V||{}),C=(s=>(s.tlogin="t",s.nlogin="n",s.clogin="c",s.ok="ok",s.no="no",s.hide="h",s.show="s",s))(C||{}),S=(s=>(s.name="fbb-event",s.show="s",s.enough="e",s.destroy="d",s.command="c",s))(S||{});let p={showPla:!0,showFbi:!1,showLog:!1,showHp:!1,autoDel:!1,fbbRveal:!1};const Z="web-components-store";let q=localStorage.getItem(Z);q&&(p=JSON.parse(q));const I=()=>localStorage.setItem(Z,JSON.stringify(p));var P;(s=>{let t=1e3;function e(){let a=10;[...document.querySelectorAll(".test-input")].forEach(n=>{{let r=new it;r.init(y.domCss4.ico,n,a++,nt()),r.initIconType(V.tlogin,"t_1574821576"),r.piggy.id=`${t++}`,m.fbi.push(r)}n.id=`${a}`})}s.createFBIs=e;function i(){[...document.querySelectorAll("dp-fbi")].forEach(o=>{o.maxz?o.maxz.destroy():console.log("%celement without 'maxz' reference","color: red")}),e()}s.reCreateFBIs=i})(P||(P={}));function at(){const s=document.getElementById("showTestsFBI");function t(){p.showFbi=s.checked;for(let e of[...document.querySelectorAll(".test-fbi-wrap")])e.style.display=p.showFbi?"block":"none"}return s.addEventListener("click",()=>{t(),I()}),{chkFbi:s,updateFbi:t}}const rt=`
<div class="test-fbi-wrap">
    <div class="test-title">
        Test: &lt;dp-fbi&gt; with input controls
    </div>

    <div class="test-fbi-input-group">
        <span class="test-place">
            span before
        </span>

        <input type="text" class="test-input" value="123">

        <span class="test-place">
            span after
        </span>
    </div>

    <hr/>

    <div class="test-fbi-input-group">
        <span class="test-place">
            span before
        </span>

        <input type="text" class="test-input" value="456">

        <span class="test-place">
            span after
        </span>
    </div>

</div>
`;function lt(s){P.createFBIs();const{chkFbi:t,updateFbi:e}=at();t.checked=s.showFbi,e()}function ct(){["stateNew","stateTra","stateCha","stateOk","stateNo"].map(i=>document.getElementById(i)).forEach(i=>{i.addEventListener("click",a=>{m.ico.forEach(o=>{t(o,a.target)})})});function t(i,a){let o=a.dataset.state,n=i.piggy.dataset.mystate;o===C.clogin&&o===n&&(o=C.tlogin),i.piggy.dataset.mystate=o,i.state=o,i.applyAttrs()}const e=document.getElementById("stateVis");e.dataset.vis="s",e.addEventListener("click",()=>{const i=e.dataset.vis==="h";m.ico.forEach(a=>{e.dataset.vis=i?"s":"h",a.state=i?C.show:C.hide})})}function dt(){ct();const s=document.getElementById("showTestsLogo");function t(){p.showLog=s.checked;for(let e of[...document.querySelectorAll(".test-logo-wrap")])e.style.display=p.showLog?"block":"none"}return s.addEventListener("click",()=>{t(),I()}),{chkLog:s,updateLog:t}}const ht=`
<div class="test-logo-wrap">

    <div class="test-title">
        Test: &lt;dp-ico&gt; states
    </div>

    <div class="test-logo-single">
    
        <div class="state-icons-wrap">
            <dp-ico></dp-ico>
            <dp-ico></dp-ico>
        </div>

        <div class="state-icons-btns">
            <button class="test-button" id="stateTra" data-state="t">Trained</button>
            <button class="test-button" id="stateNew" data-state="n">New</button>
            <button class="test-button" id="stateCha" data-state="c">Change</button>

            <button class="test-button" id="stateOk"  data-state="ok">FB: OK</button>
            <button class="test-button" id="stateNo"  data-state="no">FB: NO</button>

            <button class="test-button" id="stateVis">
                Hide
            </button>
        </div>

    </div>
</div>
`;function ft(s){const{chkLog:t,updateLog:e}=dt();t.checked=s.showLog,e()}var _;(s=>{function t(o){return/'/.test(o)?o:`{~}${o.replace(/"/g,"'")}`}s.quoPck=t;function e(o){return/^{~}/.test(o)?o.slice(3).replace(/'/g,'"'):o}s.quoUnp=e;let i;(o=>{class n{constructor(){F(this,"testRes",{dpmaxs_txt_title:"Save password?",dpmaxs_txt_ok:"Save",dpmaxs_txt_no:"Close",dpmaxs_txt_ne:"Never",dpmaxs_txt_bodyupd:"Would you like DigitalPersona Password Manager to save password for www.google.com?",dpmaxs_txt_bodyadd:"Would you like DigitalPersona Password Manager to save password for www.google.com?",dpmaxz_safeacc:"dpmaxz_safeacc",dpmaxz_safeurl:"dpmaxz_safeurl",fbb_title_new:"Save password?",fbb_title_upd:"Update password?",fbb_hint:"DigitalPersona Password Manager can save password for {website}.",fbb_btn_never_tip:"Never ask to save password for this website. You can change this option from the DigitalPersona Password Manager User Dashboard.",fbb_field_user:"Username",fbb_field_pass:"Password",fbb_btn_save_new:"Save",fbb_btn_save_upd:"Update password",fbb_btn_never:"Never"})}str(l){return this.testRes[l]}url(l){return""}res(l){return this.testRes[l]}}o.testResShieldCh=n})(i=s.TestLocalization||(s.TestLocalization={})),s.i18n=new i.testResShieldCh;function a(o){return o.replace(/{([\w\$_-]+)}/gm,(n,r)=>s.i18n.str(r)||n)}s.formatRes=a})(_||(_={}));function ut(s,t,e){let i=s.replace(/_xyz/g,t?"_new":"_upd");i=_.formatRes(i);const a=_.i18n.str("fbb_hint").replace("{website}","{1}{_}{1}").split("{1}"),o=a.indexOf("{_}");let n=[0,1,2].reduce((r,l)=>(r[`hint-cls-${l}`]=`hint-${l!==o?"text":"site"}`,r[`hint_txt_${l}`]=l!==o?a[l]:e,r),{});return K(i,n)}var h;(s=>{function t(){let c=!0,u="www.google.com";const g={css:y.domCss4.fbb.css,dom:ut(y.domCss4.fbb.dom,c,u)};return{lines:[{value:"max",values:["max","maxzz","maxzz","google.com"]}],grbId:"any123",res:g}}s.createFbbIn=t;function e(c){setTimeout(()=>{c===void 0&&(c=!s.gDpFbb),document.querySelector("#showFbb").innerText=c?"Show":"Hide"},0)}s.updateButtonText=e;function i(){let c=s.gDpFbb;c&&(c.destroy(),s.gDpFbb=null)}s.destroyFBB=i;function a(){let c=s.gDpFbb;if(!c){let u=t();c=new tt(y.domCss4.ico,u),c.reveal(!1),document.body.appendChild(c.piggy),s.gDpFbb=c,r()}}s.createFBB=a;let o=!1,n;s.setClass=c=>document.getElementById("destroyTimer").className=c;function r(){if(s.gDpFbb.indoc(800,3e3,o?1e3:void 0),o){n&&(n.disabled=o),(0,s.setClass)("");let c=document.getElementById("destroyTimer"),u=800+3e3+1e3-100,g=setInterval(()=>{u-=100,c.innerText=`${u}`,(u<=0||!s.gDpFbb)&&(clearInterval(g),c.innerText="",n&&(n.disabled=!1),console.log("interval done"))},100)}}function l(c,u){o=c,n=u,s.gDpFbb?r():a()}s.setAutoDestroy=l;function d(c){s.gDpFbb&&s.gDpFbb.reveal(c)}s.setReveal=d})(h||(h={}));function pt(){document.querySelector("#showFbb").addEventListener("click",function(){let e=h.gDpFbb;e?h.destroyFBB():h.createFBB(),h.updateButtonText(!e)});function s(t){const{detail:e}=t;switch(e.ev){case S.destroy:{console.log("fbb-event: Destroy",e),h.setClass(""),h.gDpFbb=null,h.updateButtonText(!0);break}case S.command:{console.log("fbb-event: Commannd",e),h.destroyFBB(),h.updateButtonText(!0);break}case S.show:{h.gDpFbb.reveal(!0),console.log("fbb-event: Show",e),h.setClass("shown");break}case S.enough:{console.log("fbb-event: Enough",e),h.setClass("enough");break}default:console.log("fbb-event: Any",e)}}window.addEventListener(S.name,s)}function mt(){pt();let s=document.getElementById("revealFbb");s.checked=!0;const t=()=>{h.setReveal(s.checked)};return s.addEventListener("click",()=>{t()}),{chkReveal:s,updateReveal:t}}function gt(){const s=document.getElementById("showAutoDestroy");function t(){p.autoDel=s.checked,h.setAutoDestroy(s.checked,s)}return s.addEventListener("click",()=>{t(),I()}),{chkAuto:s,updateAuto:t}}const bt=`
<dp-fbb></dp-fbb>
<div id="test-button-show">
    <button id="showFbb" class="test-button">Show</button>
</div>
`;function wt(s){h.createFBB();const{chkAuto:t,updateAuto:e}=gt();t.checked=s.autoDel,e();const{chkReveal:i,updateReveal:a}=mt();i.checked=s.fbbRveal,a()}function yt(s){const t={icoDP:"*{box-sizing:border-box}:host{display:inline-block;height:0;width:0}#mover{display:block;height:100px;position:relative;text-align:initial;width:100px;z-index:2147483644}svg{height:100%;position:absolute;width:100%}.hide{display:none}g#dpmaxz-logo #logo{transform-origin:256.35px 246.71px}g#dpmaxz-logo #feedback>#iOk{transform:scale(.00001);transform-origin:261.87px 237.46px}g#dpmaxz-logo #feedback>#iNo{transform:scale(.00001);transform-origin:262.46px 244.67px}@keyframes fb-show-anim{30%{transform:scale(1.2)}70%{opacity:1;transform:scale(1.2)}90%{opacity:0}}@keyframes logo-hide-anim{10%{opacity:0}20%{transform:translateY(1000px)}90%{opacity:0}to{opacity:1;transform:translate(0)}}@keyframes chg-appear-anim{0%{opacity:0;transform:translateX(-400px) scale3d(.1,.1,.1)}30%{opacity:.5;transform:scale3d(.5,.5,.5)}70%{transform:translate(30px,30px)}80%{transform:translate(-10px,-10px)}to{opacity:1;transform:translate(0)}}.mark-show{animation:fb-show-anim 1.2s}.logo-hide{animation:logo-hide-anim 1.2s}.chg-show{animation:chg-appear-anim 267ms cubic-bezier(.2,-2,.8,2)}",fbmDP:":host{left:0;position:fixed;top:0;z-index:2147483647}.hide{display:none}*,:after,:before{background-color:unset;box-sizing:content-box;box-sizing:border-box;color:unset;font:unset;width:auto}#dpmaxz_fbm_gui,*,:after,:before{margin:0;overflow:visible;padding:0}#dpmaxz_fbm_gui{cursor:default;position:static;user-select:none}.menus{position:absolute;transition:left 267ms cubic-bezier(.4,0,.2,1) 0ms,top 267ms cubic-bezier(.4,0,.2,1),opacity 267ms cubic-bezier(.4,0,.2,1);z-index:2147483647}ul{background-image:linear-gradient(180deg,#fafcff 0,#f0f6ff 70%,#fafcff);border:1px solid #a0a0a0;box-shadow:2px 2px 5px -2px rgba(96,95,112,.502);color:#000;cursor:default;font:normal 14px/18px Segoe UI,Verdana,Arial;padding:6px 0;white-space:nowrap}ul,ul li{list-style:none}ul li{margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none}ul li:hover{background-color:#495057;color:#fff}.row-txt{display:inline-block;font:normal 14px/18px Segoe UI,Verdana,Arial;padding:.2em 1em}@keyframes maxz-menu-zoomindown-anim{0%{animation-timing-function:cubic-bezier(.55,.055,.675,.19);opacity:0;transform:scale3d(.1,.1,.1) translate3d(0,-10px,0)}60%{animation-timing-function:cubic-bezier(.175,.885,.32,1);opacity:1;transform:scale3d(.475,.475,.475) translate3d(0,20px,0)}}@keyframes maxz-menu-zoomout-anim{0%{opacity:1}50%{opacity:0;transform:scale3d(.3,.3,.3)}to{opacity:0}}.menu-in{animation:maxz-menu-zoomindown-anim 267ms}.menu-out{animation:maxz-menu-zoomout-anim 267ms forwards}",fbbDP:'.ripple{overflow:hidden;position:relative}.ripple:before{background-color:#eee;border-radius:50%;content:"";left:calc(100%*var(--ripple-x));opacity:0;padding:50%;position:absolute;top:calc(100%*var(--ripple-y));transform:translate(-50%,-50%) scale(3);transition:transform 1s,opacity 1s}.ripple:active:before{opacity:1;transform:translate(-50%,-50%) scale(0);transition:0s}:host{display:block;position:fixed;right:0;top:0;width:322px;z-index:2147483646}*,html{box-sizing:border-box}.container{color:#000;font-family:Arial,sans-serif;font-size:14px;font-weight:400;left:-.6em;position:absolute;top:.6em;width:322px;z-index:2147483646}.main{background-color:#fff;border:1px solid #969fab;border-radius:4px;box-shadow:0 3px 6px rgba(0,0,0,.251);display:grid;grid-template-rows:auto auto 1fr;position:relative;transition:opacity .5s;user-select:none}.hide-main{opacity:0;visibility:hidden}.header{background:linear-gradient(308.35deg,rgba(190,216,255,.102) 35.82%,rgba(255,242,198,.102) 89.63%);border-radius:4px 4px 0 0;display:grid;grid-template-columns:auto 1fr;padding-bottom:.4em}.header dp-ico{align-self:center;margin:.4em}.header .hint{align-self:end;color:#353535;font-size:.9em;overflow:hidden;padding:.4em 3em .8em 0;text-overflow:ellipsis}.header .hint .hint-site{color:#0d693e}section{padding:0 1.2em}section .title{font-size:1em;padding:1em 0}section .rows{grid-column-gap:1em;grid-row-gap:1.1em;align-items:center;display:grid;font-size:.9em;grid-template-columns:minmax(5em,min-content) auto}section .rows .input{background:hsla(0,0%,100%,.502);border:1px solid #b1b1b1;border-radius:3px;min-width:5em;overflow:hidden;padding:.6em;text-overflow:ellipsis}section .rows .input[type=password]{background:#f7f7f7;color:gray}section .controls{grid-gap:.6em;display:grid;grid-template-columns:auto auto;justify-content:end;margin:1.2em 0}.btn{background-color:#fff;border:1px solid #ccc;border-radius:4px;color:#1a73e8;cursor:pointer;font-size:.9em;font-weight:700;min-width:5.7em;padding:.7em 1em;position:relative;text-align:center}.btn:focus{box-shadow:0 0 1px 1px #a2c3fa;outline:none}.btn:hover{background-color:#f2f2f2}.btn[aria-label]:hover:after{background-color:#fff;border:1px solid gray;border-radius:3px;box-shadow:0 3px 6px rgba(0,0,0,.251);color:#000;content:attr(aria-label);font-weight:400;min-width:20em;padding:.6em;position:absolute;right:0;text-align:left;top:calc(100% + 1em);z-index:1}.btn-primary{background-color:#4285f4;border-color:#1266f1;color:#fff}.btn-primary:focus{background-color:#5a95f5}.btn-primary:hover{background-color:#1266f1}#close{cursor:pointer;outline:none;padding:.2em .4em;position:absolute;right:0;top:0}#close>*{pointer-events:none}#close:focus,#close:hover{background-color:red;border-radius:0 4px 0 0}#close:focus svg path,#close:hover svg path{fill:#fff;stroke:#ffd3d3}',litDP:":host{left:0;position:fixed;top:0;z-index:2147483646}.container{z-index:2147483643}.container *{border-image:5 9 8 6 repeat url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAPCAYAAAACsSQRAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAm9JREFUeNpkU01rU0EUPe+jr2nTmpjQYmiDtbTUhVWxIkhxoSAFUduFK9GNi9KVFPwVbgSzdCciCIp0Iy66sRtBEEqq4kJSMMGk0q80ecn7nvHOvHltwYEzM2/mzrnnnpmnIf8Esmk6dfwqTaZpzOCwcQ0cTSDYwG7pq1ggsGRTdKb6mCLM37+denDtIjLZdGSCRRTCwT0P2412sLZhNd9/efwGfnUF7ZUqxQeESBCZkkwz5t+VMssLN4wC9xw66NJ2KElYxwbf28HilfbpV1O53OLLU7108AWhQ3AFmahh7PI5897Cdb3AfRe2U0DXHUXXL8bgE2j3nqfQAA9nasXx4Z45WJNC+QmCIDRM8mL80lmkudcFd2zASUOfWIJhGLJO27ahfX9GyiKJmWIrvVkdmob/a0+VJJXoBpjGfY9ISGEYJASagiwLnMnR0BgZ7edo9SShT/hq0oYmfWFxJmW4VPB/42oIB6gfJKTicoQKx0XUaABCTf9IQiBPBOSFReqEJ3ES0cI+pcKKlSDaqtS4g3aLAn2E6EJbf3qY22Isvil1Wz//ph2Eux31Vlh8xbulH6vl5Y+r66nRm5Ot4cHuJ9piRxWIMlnsx9uNkXp5s1ZH2BCmekKSiDCl7Ojgw93nY9aj2eyt2TP7mZQR6kc2cHR8PVqr5A9ef25W4JZ/02pT2JYQJTcgDMpi8M4c9IELpD1D5qVkEml8wBDU9uF+q1PcDuEPQZBtCcKERCjql0TAECGv5n1qjyvpjlIhiLbV3NGUaCG/RykaUEjcN479dJ4iso89ez8hSRQZisxSo6EScIVIvVL/+A/4T4ABANshJgZBraeOAAAAAElFTkSuQmCC);border-style:solid;box-sizing:content-box;pointer-events:none;position:absolute}"},e={fbbDP:"{~}['div',{'class':'container'},['div',{'class':'main'},[['div',{'id':'close','data-id':'c','tabindex':'0','role':'button'},['svg',{'width':'24','height':'24','viewBox':'0 0 24 24'},['path',{'d':'M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'}]]],['div',{'class':'header'},[['dp-ico',{'data-state':'t','data-fit':'true','data-dim':'84'}],['div',{'class':'hint'},[['span',{'class':'{hint-cls-0}'},'{hint_txt_0}'],['span',{'class':'{hint-cls-1}'},'{hint_txt_1}'],['span',{'class':'{hint-cls-2}'},'{hint_txt_2}']]]]],['section',[['div',{'class':'title'},'{fbb_title_xyz}'],['div',{'class':'rows'},[['div','{fbb_field_user}'],['input',{'class':'input','type':'text','id':'username','list':'usernames','autocomplete':'off'}],['datalist',{'id':'usernames'}],['div','{fbb_field_pass}'],['input',{'class':'input','type':'password','value':'Hello World!','readonly':'','disabled':''}]]],['div',{'class':'controls'},[['div',{'id':'save','data-id':'s','class':'btn ripple btn-primary','tabindex':'0','role':'button'},'{fbb_btn_save_xyz}'],['div',{'id':'never','data-id':'n','class':'btn','tabindex':'0','role':'button','aria-label':'{fbb_btn_never_tip}'},'{fbb_btn_never}']]]]]]]]",litDP:"{~}['div',{'class':'container'},[['div'],['div'],['div'],['div']]]",icoDP:"{~}['svg',{'xlink':'http://www.w3.org/1999/xlink','viewBox':'0 0 512 512'},[['defs',[['filter',{'id':'luminosity-invert-noclip','x':'-19.8','y':'6.17','width':'462.04','height':'551.22','filterUnits':'userSpaceOnUse','color-interpolation-filters':'sRGB'},[['feColorMatrix',{'values':'-1 0 0 0 1 0 -1 0 0 1 0 0 -1 0 1 0 0 0 1 0','result':'invert'}],['feFlood',{'flood-color':'#fff','result':'bg'}],['feBlend',{'in':'invert','in2':'bg'}]]],['mask',{'id':'mask','x':'-19.8','y':'6.17','width':'462.04','height':'551.22','maskUnits':'userSpaceOnUse'},['rect',{'x':'-19.8','y':'6.17','width':'281.11','height':'551.22','filter':'url(#luminosity-invert-noclip)'}]],['mask',{'id':'mask-2','x':'-4.16','y':'19.09','width':'434.16','height':'521.95','maskUnits':'userSpaceOnUse'},['rect',{'x':'-4.16','y':'19.09','width':'266.18','height':'521.95','style':'fill:#fff'}]]]],['g',{'id':'dpmaxz-logo'},[['g',{'id':'bkg'},['g',[['path',{'d':'M8.83,199.93,189.08,54.26C224,33.76,285,30.21,332.57,61L503,172.05,424.4,362.82,264.33,499.36,95.18,382.68Z','style':'fill:#0080c7'}],['path',{'d':'M8.83,177.62,189.08,32C224,11.46,285,7.91,332.57,38.64L503,149.75,421.19,348.07l-156.86,135L95.18,367.93Z','style':'fill:#29abe2'}],['g',{'mask':'url(#mask)'},['path',{'d':'M72.06,196,206.19,87.64c26-15.25,71.39-17.89,106.77,5l126.81,82.67-61,149.93L262.18,423.3,136.22,340Z','style':'fill:#5bcbf5','stroke':'#fff','stroke-miterlimit':'10','stroke-width':'4'}]],['g',{'mask':'url(#mask-2)'},['path',{'d':'M81.83,198.88l127-102.63c24.59-14.44,67.6-16.94,101.1,4.71L430,179.24l-57.73,142L261.85,414.07,142.58,335.2Z','style':'fill:#82d3f6'}]]]]],['g',{'id':'logo'},[['g',{'id':'egg'},[['path',{'id':'tmShirt','d':'M370.71,216.51v53.76l-45.66,21.34-13.74,103.8H258.56V325.18H254v70.24H201.4l-13.74-103.8L142,270.28V216.51l72.64.85c5.06,15.24,26.35,26.58,41.71,26.58S293,232.6,298.07,217.36Z','style':'fill:#e9d2bb','stroke':'#000','stroke-miterlimit':'10','opacity':'0.97'}],['polygon',{'points':'334.42 215.33 334.42 292.84 326.51 291.25 327.97 331.1 184.74 331.1 186.2 291.25 178.28 292.84 178.28 215.33 187.68 215.33 256.12 243.6 325.03 215.33 334.42 215.33','style':'fill:red'}]]],['path',{'id':'head','d':'M256.36,98c-44.15,0-80.07,37.56-80.07,83.93a86,86,0,0,0,.58,9.24,84.25,84.25,0,0,0,10.81,33.64c13.89,24.49,39.49,40.87,68.68,40.87S311.15,249.29,325,224.8a84.37,84.37,0,0,0,10.89-33.64,86,86,0,0,0,.5-9.24C336.42,135.56,300.59,98,256.36,98Zm41.82,96c-5.07,19.17-21.95,33.38-41.82,33.38-20,0-36.75-14.21-41.82-33.38-.25-1-.42-1.83-.58-2.79a48.31,48.31,0,0,1-.91-9.24c0-25.19,19.37-45.41,43.32-45.41s43.32,20.22,43.32,45.41a48.28,48.28,0,0,1-.83,9.24C298.59,192.12,298.43,193,298.18,194Z'}],['rect',{'id':'body','x':'200.45','y':'278.73','width':'112.16','height':'71.52','style':'fill:red'}]]],['g',{'id':'badge'},[['g',{'id':'bbkg'},[['rect',{'x':'332.63','y':'15.83','width':'173.37','height':'182.84','rx':'12','ry':'12','style':'fill:#007c53'}],['rect',{'x':'326','y':'10.14','width':'175.26','height':'184.06','rx':'12','ry':'12','style':'fill:#13e813'}]]],['path',{'id':'chg','d':'M479.13,120.89l12.66-78.26L464,55.29a72.74,72.74,0,0,0-54.11-24.56c-40.39,0-73.26,33.76-73.26,75.25s32.86,75.25,73.26,75.25c30.15,0,56.87-18.58,68.05-47.35l-24.92-9.69c-7.16,18.41-24.09,30.3-43.13,30.3-25.65,0-46.51-21.76-46.51-48.51s20.87-48.51,46.51-48.51a45.43,45.43,0,0,1,27.94,9.77L411.71,79.18Z','style':'fill:#006131'}],['polygon',{'id':'add','points':'471.52 86.48 429.84 86.48 429.84 44.25 398.87 44.25 398.87 86.48 357.19 86.48 357.19 117.86 398.87 117.86 398.87 160.1 429.84 160.1 429.84 117.86 471.52 117.86 471.52 86.48','style':'fill:#fff','stroke':'#006837','stroke-miterlimit':'10'}]]],['g',{'id':'feedback'},[['path',{'id':'iOk','d':'M246.55,327.83l-91.6-81a15.23,15.23,0,0,1-1.54-21.24l18.37-21.75a15.23,15.23,0,0,1,21.79-1.53L241.35,245l82.4-92.83a15.23,15.23,0,0,1,19.06-3l23.62,13.77A15.23,15.23,0,0,1,370.24,186Z','style':'fill:#006131'}],['path',{'id':'iNo','d':'M262.87,297.54c-21.13-6.87-51.59-24.14-51.59-46.16,0-13,9.61-26.51,39.52-42.37,23.6-12.31,44.73-22.49,44.73-30.06,0-7.81-5.49-12.78-18.66-12.78-27.17,0-47.48,25.56-54.89,25.56-9.6,0-23.88-11.36-23.88-24.38,0-6.86,3.57-10.42,9.33-15.15C220.89,142,242.57,138,252.18,138H253c35.4,0,73.82,28.64,73.82,60.6,0,14.2-3.29,24.62-23.88,36.69-12.9,7.81-42,21.06-42,33.61,0,5.21,2.2,11.6,10.7,20.36Zm-6.7,53.79c-12.91,0-22.69-8.26-22.69-20.65,0-11.67,9.79-20.29,23.11-20.29,13.53,0,23.32,8.62,23.31,20.29,0,12.39-9.79,20.65-23.32,20.65Z','style':'fill:#ed5f0c'}]]]]]]]",icoHP:"{~}['svg',{'xlink':'http://www.w3.org/1999/xlink','viewBox':'0 0 512 512'},[['defs',[['radialGradient',{'id':'radial-gradient','cx':'242.5','cy':'190','r':'205','gradientUnits':'userSpaceOnUse'},[['stop',{'offset':'0','stop-color':'#e8ebf6'}],['stop',{'offset':'0.55','stop-color':'#e5ebf6'}],['stop',{'offset':'1','stop-color':'#b6ebff'}]]],['symbol',{'id':'Home','data-name':'Home','viewBox':'0 0 69.46 63.67'},['path',{'d':'M69.46,26.51,56.86,16.9V1h-9v9L34.73,0,0,26.51l5.46,7.16L9.2,30.81V63.67H60.26V30.81L64,33.67ZM55.26,58.67H43.73v-19h-18v19H14.2v-31L34.73,12,55.26,27.63Z','style':'fill:#29abe2'}]]]],['g',{'id':'dpmaxz-logo'},[['g',{'id':'bkg'},[['path',{'d':'M457,135.54c0,34.18-3.16,79-15.07,126.29a401.15,401.15,0,0,1-22,62.88,422.8,422.8,0,0,1-38.1,67.79A307.1,307.1,0,0,1,310.94,462a336.83,336.83,0,0,1-53.73,31l-1.09.51L255,493a336.66,336.66,0,0,1-53.79-31,307.69,307.69,0,0,1-71-69.62,422.62,422.62,0,0,1-38.14-67.87,401.12,401.12,0,0,1-22-63C58.16,214.24,55,169.33,55,135.11c0-38.45,4-63.52,4-63.61l.31-2,31.12-4.11c.33-10,.82-18.47,1.31-25.17L256,18.5,420.26,40.62c.49,6.7,1,15.2,1.32,25.18L452.71,70l.31,2C453,72.09,457,97.13,457,135.54Z','stroke':'#00a1dd','stroke-miterlimit':'10','stroke-width':'22.95','style':'fill:url(#radial-gradient)'}],['path',{'d':'M256,40.58,402.78,60.34c.31,5.18.56,10.59.75,16.17l.26,7.6,7.54,1L434,88.18a451.26,451.26,0,0,1,3,54c0,41-4.7,80.38-14,117.15a371.49,371.49,0,0,1-20.27,58,391.47,391.47,0,0,1-35.14,62.53,281.55,281.55,0,0,1-64.9,63.59,310,310,0,0,1-46.62,27.16,309.77,309.77,0,0,1-46.67-27.18,282.1,282.1,0,0,1-65-63.67,391.22,391.22,0,0,1-35.17-62.61A371.68,371.68,0,0,1,89,259c-9.28-36.81-14-76.28-14-117.3a451.25,451.25,0,0,1,3-54l22.64-3,7.56-1,.25-7.63c.18-5.55.43-10.95.74-16.13L256,40.58m0-9.08L100.72,52c-.46,6.33-.93,14.37-1.24,23.79L70.06,79.69l-.29,1.91c0,.08-3.76,23.78-3.77,60.13,0,32.35,3,74.8,14.26,119.52a379.19,379.19,0,0,0,20.8,59.51,399.47,399.47,0,0,0,36.05,64.16,290.84,290.84,0,0,0,67.12,65.81A318.26,318.26,0,0,0,255.08,480l1,.48,1-.48a318.39,318.39,0,0,0,50.79-29.27A290.29,290.29,0,0,0,375,385a399.66,399.66,0,0,0,36-64.08,379.18,379.18,0,0,0,20.77-59.44C443,216.85,446,174.44,446,142.13c0-36.31-3.74-60-3.76-60.06l-.29-1.9-29.43-4c-.32-9.43-.78-17.47-1.25-23.8L256,31.5Z','style':'fill:#fff'}]]],['g',{'id':'logo'},[['path',{'d':'M34.5,229.29V403.88H99.62c1.36.07,2.74.11,4.14.11H477.23v-.11h.27V229.29Z','style':'fill:#00a1dd'}],['path',{'d':'M458.23,384.61H94.93a44.29,44.29,0,0,1-27-14.83c-8.1-9.36-12.93-22.23-14.16-37.57V248.56H421.06a38.49,38.49,0,0,1,24.52,13.35c7.2,8.47,11.52,20.4,12.65,34.8Z','style':'fill:#fff'}],['g',[['path',{'d':'M306.54,315.92q0-6.79,3.26-9.79c2.17-2,5.4-3,9.7-3s7.53,1,9.7,3,3.25,5.27,3.25,9.79-1.07,7.79-3.25,9.79-5.41,3-9.7,3-7.53-1-9.7-3S306.54,320.45,306.54,315.92Z','style':'fill:#00a1dd'}],['path',{'d':'M263.22,315.92q0-6.79,3.26-9.79c2.17-2,5.4-3,9.7-3s7.53,1,9.7,3,3.25,5.27,3.25,9.79-1.07,7.79-3.25,9.79-5.41,3-9.7,3-7.53-1-9.7-3S263.22,320.45,263.22,315.92Z','style':'fill:#00a1dd'}],['path',{'d':'M220.16,315.92q0-6.79,3.26-9.79c2.17-2,5.4-3,9.7-3s7.53,1,9.7,3,3.25,5.27,3.25,9.79-1.07,7.79-3.25,9.79-5.41,3-9.7,3-7.53-1-9.7-3S220.16,320.45,220.16,315.92Z','style':'fill:#00a1dd'}],['path',{'d':'M177.1,315.92q0-6.79,3.26-9.79c2.17-2,5.4-3,9.7-3s7.53,1,9.7,3,3.25,5.27,3.25,9.79-1.07,7.79-3.25,9.79-5.41,3-9.7,3-7.53-1-9.7-3S177.1,320.45,177.1,315.92Z','style':'fill:#00a1dd'}],['path',{'d':'M133,315.92q0-6.79,3.26-9.79c2.17-2,5.4-3,9.7-3s7.53,1,9.7,3,3.25,5.27,3.25,9.79-1.07,7.79-3.25,9.79-5.41,3-9.7,3-7.53-1-9.7-3S133,320.45,133,315.92Z','style':'fill:#00a1dd'}],['path',{'d':'M89.53,315.92q0-6.79,3.26-9.79c2.17-2,5.4-3,9.7-3s7.53,1,9.7,3,3.25,5.27,3.25,9.79-1.07,7.79-3.25,9.79-5.41,3-9.7,3-7.53-1-9.7-3S89.53,320.45,89.53,315.92Z','style':'fill:#00a1dd'}],['path',{'d':'M369.37,337.78c0,6,3.92,8.64,8.71,6l40.81-22.94c4.78-2.69,4.78-7.08,0-9.78L378.08,288.1c-4.79-2.68-8.71,0-8.71,6Z','style':'fill:#00a1dd'}]]],['use',{'id':'egg','width':'69.46','height':'63.67','transform':'translate(200.12 265) scale(1.64 1.63)','href':'#Home'}]]],['g',{'id':'badge'},[['g',{'id':'bbkg'},[['rect',{'x':'320.63','y':'231.83','width':'173.37','height':'182.84','rx':'12','ry':'12','style':'fill:#007c53'}],['rect',{'x':'304','y':'224','width':'184','height':'184','rx':'18.96','ry':'18.96','style':'fill:#13e813'}]]],['path',{'id':'chg','d':'M463.13,331.89l12.66-78.26L448,266.29a72.74,72.74,0,0,0-54.11-24.56c-40.39,0-73.26,33.76-73.26,75.25s32.86,75.25,73.26,75.25c30.15,0,56.87-18.58,68.05-47.35l-24.92-9.69c-7.16,18.41-24.09,30.3-43.13,30.3-25.65,0-46.51-21.76-46.51-48.51s20.87-48.51,46.51-48.51a45.43,45.43,0,0,1,27.94,9.77l-26.15,11.94Z','style':'fill:#006131'}],['polygon',{'id':'add','points':'455.52 301.48 413.84 301.48 413.84 259.25 382.87 259.25 382.87 301.48 341.19 301.48 341.19 332.86 382.87 332.86 382.87 375.1 413.84 375.1 413.84 332.86 455.52 332.86 455.52 301.48','style':'fill:#fff','stroke':'#006837','stroke-miterlimit':'10'}]]],['g',{'id':'feedback'},[['path',{'id':'iNo','d':'M263.87,282.54c-21.13-6.87-51.59-24.14-51.59-46.16,0-13,9.61-26.51,39.52-42.37,23.6-12.31,44.73-22.49,44.73-30.06,0-7.81-5.49-12.78-18.66-12.78-27.17,0-47.48,25.56-54.89,25.56-9.6,0-23.88-11.36-23.88-24.38,0-6.86,3.57-10.42,9.33-15.15C221.89,127,243.57,123,253.18,123H254c35.4,0,73.82,28.64,73.82,60.6,0,14.2-3.29,24.62-23.88,36.69-12.9,7.81-42,21.06-42,33.61,0,5.21,2.2,11.6,10.7,20.36Zm-6.7,53.79c-12.91,0-22.69-8.26-22.69-20.65,0-11.67,9.79-20.29,23.11-20.29,13.53,0,23.32,8.62,23.31,20.29,0,12.39-9.79,20.65-23.32,20.65Z','style':'fill:#ed5f0c'}],['path',{'id':'iOk','d':'M247.55,312.83l-91.6-81a15.23,15.23,0,0,1-1.54-21.24l18.37-21.75a15.23,15.23,0,0,1,21.79-1.53L242.35,230l82.4-92.83a15.23,15.23,0,0,1,19.06-3l23.62,13.77A15.23,15.23,0,0,1,371.24,171Z','style':'fill:#006131'}]]]]]]]"};return{dp:{ico:{css:t.icoDP,dom:e.icoDP},lit:{css:t.litDP,dom:e.litDP},fbm:{css:t.fbmDP},fbb:{css:t.fbbDP,dom:e.fbbDP}},hp:{ico:{css:t.icoDP,dom:e.icoHP},lit:{css:t.litDP,dom:e.litDP},fbm:{css:t.fbmDP},fbb:{css:t.fbbDP,dom:e.fbbDP}}}[s]}function U(s){let t=yt(s);return[t.ico,t.fbb,t.lit].forEach(e=>{e&&Object.keys(e).forEach(i=>{i==="dom"&&(e[i]=Q(e[i]||""))})}),t}$.menuDomis.t_1574821576=JSON.stringify(["ul",{id:"t_1574821576"},["li",{class:"menu-row","data-cmd":"fillin"},["span",{class:"row-txt"},"Fill in logon data"]],["li",{class:"menu-row","data-cmd":"editprofile"},["span",{class:"row-txt"},"Edit logon"]],["li",{class:"menu-row","data-cmd":"addprofile"},["span",{class:"row-txt"},"Add logon"]],["li",{class:"menu-row","data-cmd":"openpm"},["span",{class:"row-txt"},"Open Password Manager"]],["li",{class:"menu-row","data-cmd":"help"},["span",{class:"row-txt"},"Help"]]]);var L;(s=>{function t(){m.ico.forEach(o=>{o.fitted=!0,o.state=C.tlogin,o.dim={w:120,h:120}})}s.initLogos=t;function e(o){const n=new R(y.domCss4.ico);return o.replaceWith(n.piggy),n}function i(){const o=[...document.querySelectorAll("dp-ico")];m.ico=o.map(n=>e(n))}s.createLogos=i;function a(){const o=[...document.querySelectorAll("dp-ico")];m.ico=m.ico.map(n=>{let r=o.find(l=>l===n.piggy);if(!r)throw new Error("No document dp-ico");return e(r)}),t()}s.reCreatelogos=a})(L||(L={}));const vt=`
<!-- 
<div class="test-big-place"></div>
<div> 
    <div class="test-place">Text before LOGO</div>

    <dp-ico></dp-ico>

    <div class="test-place">Text after</div>
</div>

<div class="test-big-place"></div>
-->
`;function xt(s){L.createLogos(),L.initLogos()}var M;(s=>{function t(e){console.log(`brand ${e}`),y.domCss4=U(e),h.destroyFBB(),h.createFBB(),h.updateButtonText(),P.reCreateFBIs(),L.reCreatelogos()}s.setBrand=t})(M||(M={}));function kt(){const s=document.getElementById("showTestsHp");function t(){p.showHp=s.checked,M.setBrand(p.showHp?"hp":"dp")}return s.addEventListener("click",()=>{t(),I()}),{chkBrd:s,updateBra:t}}function Et(s){const{chkBrd:t,updateBra:e}=kt();t.checked=s.showHp,e()}var O;(s=>{function t(e){let i=m.lit;if(!i){let o=document.querySelector("dp-lit");m.lit=i=new ot(y.domCss4.lit,o),o||i.appendMeToDoc()}let a=document.querySelector(".test-btns-layout");if(a)if(e){let o=!1;i.highlight(a,o)}else i.hide()}s.setState=t})(O||(O={}));function St(){const s=document.getElementById("showHighlight");function t(){O.setState(s.checked)}s.addEventListener("click",()=>{t()})}const Ct=`
<br>
<div class="test-hili-wrap"></div>
<dp-lit></dp-lit>
`;function Dt(s){St()}const At=`
<!-- 
<span class="test-place">Text before FBM</span>

    <dp-fbm style="opacity: 1; position: static"></dp-fbm>

<span class="test-place">Text after</span> 
-->
`;function Lt(){const s=document.getElementById("showPlaceholders");function t(){p.showPla=s.checked;for(let e of[...document.querySelectorAll(".test-big-place")].slice(1))e.style.display=p.showPla?"block":"none"}return s.addEventListener("click",()=>{t(),I()}),{chkPla:s,updatePla:t}}function k(s,t,e=""){return`
        <label class="test-checkbox">
            <input type="checkbox" id="${s}">
            <span>${t}</span>
            ${e}
        </label>
`}const It=`
<!-- 0. controls -->
<div class="test-btns-layout">
    ${k("showTestsFBI","Show test: input controls with FBI")}
    ${k("showTestsLogo","Show test: Logo state tests")}
    ${k("showHighlight","Show test: Highlight")}
    <br/>
    ${k("showTestsHp","Show HP or DP")}
    ${k("showPlaceholders","Show gap under controls panel")}
    <br/>
    ${k("showAutoDestroy","FBB auto destroy by timer",'<span id="destroyTimer"></span>')}
    ${k("revealFbb","FBB reveal")}
</div>
`,zt=`
<div class="test-big-place"></div>
<div class="test-big-place"></div>
<div class="test-big-place"></div>
<div class="test-big-place"></div>
<!-- 0. controls done -->
`,Pt=`
${It}
${zt}
`;function _t(s){const{chkPla:t,updatePla:e}=Lt();t.checked=s.showPla,e()}const Mt=`
    ${Pt}
    ${bt}
    ${rt}
    ${ht}
    ${vt}
    ${At}
    ${Ct}
`;function Ot(){y.domCss4=U("dp");const s=document.getElementById("app");s.innerHTML=Mt,xt(),Et(p),_t(p),lt(p),ft(p),Dt(),wt(p)}Ot();
